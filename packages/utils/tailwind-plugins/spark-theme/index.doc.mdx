import { Meta } from '@storybook/blocks'
import { StoryHeading } from '@docs/helpers/StoryHeading'
import { Alert } from '@docs/helpers/Alert'

<Meta title="utils/Tailwind plugins/spark theme" />

# Tailwind spark theme plugin

## Installation

To use our Tailwind spark theme plugin, simply install the `@spark-ui/tailwind-plugins` package and add the spark theme plugin to your `tailwind.config.js` file

```bash
$ npm i @spark-ui/tailwind-plugins
```

```js
// tailwind.config.js

const sparkPlugins = require('@spark-ui/tailwind-plugins')

module.exports = {
  ...,
  plugins: [sparkPlugins.sparkTheme({
    htmlFontSize: 16 // The base font size for your application (default: 16),
    themes: {
      default: yourDefaultTheme,
      dark: yourDarkTheme,
      foo: someOtherTheme,
      ...rest
    } //
  })],
}

```

<StoryHeading label="Usage" as="h2" />

The plugin performs two main tasks:

- first, it converts every value within the objects inside the themes object into **CSS variables**, which is helpful for managing **multiple themes**.

- Second, it provides Tailwind with an internal mapping to retrieve these CSS variables This is necessary because, by default, Tailwind does not use CSS variables, but rather direct values.

Once the plugin is configured, all Spark custom classes become available for use.

```tsx
<div className="bg-primary text-primary...">...</div>
```

<StoryHeading label="Configuration" as="h2" />

This plugin can be customized by providing a configuration object with two fields, `themes` and `htmlFontSize`.

**themes**:

An object containing your themes. Each key in the object will be extracted to a `[data-theme]` attribute, and the values will be converted to CSS custom properties inside the `css` file generated by Tailwing. **Note that this object requires a key with a value of default**, which specifies the default theme for your project.

For example, if your `themes` object looks like this:

```js

sparkPlugins.sparkTheme({
  themes: {
    default: yourDefaultTheme,
    alternative: someAlternativeTheme,
  },
}),
```

Tailwind will generate the following CSS:

```css
:root {
  /* ...tokens from yourDefaultTheme */
}

[data-theme='alternative'] {
  /* ...tokens from someAlternativeTheme */
}
```

You can populate the `themes` object with as many themes as desired, with the only requirement being that they conform to our `Theme` interface. The Theme interface can be accessed through the [**@spark-ui/theme-utils**](?path=/docs/utils-theme--docs#theme) package.

**htmlFontSize (optional)**:

Spark uses a base font size of **16 pixels** as a standard value for calculating the sizes of all other font-related properties defined in the theme. For example, our `spacing.lg` value is defined as **1rem**, which is equal to 16 pixels (based on the default base font size of 16 pixels).

However, if your application uses a different base font size, such as **10 pixels** for example, this can cause issues with the sizing of elements in the application. To account for this, you can set the `htmlFontSize` to the appropriate value for your application's base font size. This will adjust the `rem` based values in Spark to be relative to the new base font size.

This will ensure that the `rem`-based values are accurately calculated according to your application's HTML font size.

<Alert>
To better understand what happens when you adjust `htmlFontSize`, it's useful to know that we use CSS custom properties to define the values of our design tokens, such as `spacing.lg`.

By default, the value for this token is expressed as `--spacing-lg: 1rem;`. However, when you define a `htmlFontSize` of 10, for example, this value will be updated to `--spacing-lg: 1.6rem;`

</Alert>
