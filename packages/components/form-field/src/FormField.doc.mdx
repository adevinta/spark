import { Meta, Canvas } from '@storybook/addon-docs'
import { ArgTypes } from '@storybook/blocks'

import { FormField } from '.'

import * as stories from './FormField.stories'

<Meta of={stories} />

# FormField

Provide context to your form elements

- `FormField` the wrapper that provides context and functionality for all children.
- `FormField.Label` the label of a form section. The usage is similar to html label. `htmlFor` is set by default for children input.
- `FormField.HelperMessage` the message that tells users more details about the form section.
- `FormField.ErrorMessage` the message that shows up when an error occurs.
- `FormField.State` provides the input state using render props.
- `FormField.RequiredIndicator` optinally use to customize the required indicator.

## Install

```sh
npm install @spark-ui/form-control
```

## Import

```tsx
import { FormField } from '@spark-ui/form-control'
```

## Props

<ArgTypes
  of={FormField}
  subcomponents={{
    'FormField.Label': FormField.Label,
    'FormField.HelperMessage': FormField.HelperMessage,
    'FormField.ErrorMessage': FormField.ErrorMessage,
    'FormField.State': FormField.State,
    'FormField.RequiredIndicator': FormField.RequiredIndicator,
  }}
/>

## Usage

By default, all Spark input components use `FormFieldState` behind the scenes, so **you do not need to use it explicitly**. However, if you want to use a custom input component, or if you need more fine-grained control over the state of a form control, it can be used.

<Canvas of={stories.Default} />

## Required

Set `isRequired` prop to `true` to mark the input as required and display a required indicator. The default indicator is an asterisk `*`.

<Canvas of={stories.Required} />

### Required with custom indicator

Configure the required indicator using the `requiredIndicator` prop and the `FormRequiredIndicator` component.

<Canvas of={stories.CustomRequired} />

## Invalid

`FormErrorMessage` will only show up when the property `isInvalid` in `FormField` is `true`.

<Canvas of={stories.Invalid} />
