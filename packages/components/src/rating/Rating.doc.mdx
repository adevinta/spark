import { Meta, Canvas } from '@storybook/blocks'
import { A11yReport } from '@docs/helpers/A11yReport'
import { ArgTypes } from '@docs/helpers/ArgTypes'
import { Kbd } from '@spark-ui/components/kbd'

import { Rating } from '.'

import * as stories from './Rating.stories'

<Meta of={stories} />

# Rating

Ratings lets users see and/or set a star rating for a product or other item, on a scale from 0 to 5.

<Canvas of={stories.Default} />

## Install

```sh
npm install @spark-ui/components
```

## Anatomy

```tsx
import { Rating } from '@spark-ui/components/rating'

export default () => <Rating />;
```

## Examples

### Readonly

Use `readOnly` prop to indicate that rating control is not interactive. In this case only (non interactive) the rating control will handle 0.5 step (half stars).

<Canvas of={stories.Readonly} />

### Disabled

Use `disabled` prop to indicate that rating control is disabled.

<Canvas of={stories.Disabled} />

### Sizes

Use `size` prop to set the size of the rating control stars.

<Canvas of={stories.Size} />

## Advanced Examples

### Rounded values

The **Rating** component includes a simple rounding mechanism to guarantee a nice display.

- On **input mode** it will use a step of **1** (for accessibility concerns)
- On **read-only mode** it will use a **0.5** step. In this last case the 0.5 step should be considered as a "visible" one, as we round using a 0.25 step behind the scene. This allows us to define more precisely if a value should be rounded down or up.

<Canvas of={stories.Rounded} />

If for any reason you need some specific rounding mechanisms, feel free to define yours and provide your rounded value.

## API Reference

<ArgTypes of={Rating} />

## Accessibility

<A11yReport of="rating" />

Follows WCAG 2.0 standards for keyboard accessibility guidelines.

### Keyboard Interactions

- <Kbd>ArrowRight</Kbd>: Increments by 1, up to 5.
- <Kbd>ArrowUp</Kbd>: Increments by 1, up to 5.
- <Kbd>ArrowLeft</Kbd>: Decrements by 1, down to 0.
- <Kbd>ArrowDown</Kbd>: Decrements by 1, down to 0.
