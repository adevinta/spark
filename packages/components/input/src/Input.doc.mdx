import { Meta, Canvas } from '@storybook/addon-docs'
import { ArgTypes } from '@storybook/blocks'
import { ArgTypes as ExtendedArgTypes } from '@docs/helpers/ArgTypes'

import { Input, InputGroup } from '.'

import * as stories from './Input.stories'

<Meta of={stories} />

# Input

Component used to get user input in a text field

Use `InputGroup` component to group your input with addons and elements like icons.

## Install

```sh
npm install @spark-ui/input
```

## Import

```tsx
import { Input, InputGroup } from '@spark-ui/input'
```

## Props

<ExtendedArgTypes
  of={Input}
  subcomponents={{
    InputGroup: { of: InputGroup },
    'InputGroup.LeadingAddon': { of: InputGroup.LeadingAddon },
    'InputGroup.LeadingIcon': { of: InputGroup.LeadingIcon },
    'InputGroup.TrailingAddon': { of: InputGroup.TrailingAddon },
    'InputGroup.TrailingIcon': { of: InputGroup.TrailingIcon },
  }}
/>

## Usage

<Canvas of={stories.Usage} />

## Uncontrolled

Use `defaultValue` prop to set the default value of the input. Optionally `onChange` prop can be used to know when the value of the input changes.

<Canvas of={stories.Uncontrolled} />

## Controlled

Use `value` and `onChange` props to control the value of the input.

<Canvas of={stories.Controlled} />

## Disabled

Use `disabled` prop to indicate the input is disabled (set the prop on `InputGroup` instead if you are wrapping your `Input` with it)

<Canvas of={stories.Disabled} />

## Addons

Addons are sections before/after the input itself.

You can use them to achieve more complex custom inputs. Addons can be decorative or interactive.

Addons are not considered part of the input itself and clicking on them won't move the focus to the input.

<Canvas of={stories.Addons} />

## Icons

An `InputGroup` can have a `LeadingIcon` and/or `TrailingIcon`.

Please note that the `TrailingIcon` will be automatically replaced by the state indicator if the input has one (`error`, `alert` or `success`).

<Canvas of={stories.Icons} />

## State

When using `InputGroup`, you can apply a state to the group among `error`, `alert` and `success`. It will update the outline styles and display a state indicator **automatically**.

<Canvas of={stories.State} />

## Search

Let's use `InputGroup` and its components to create a search input with a clear button

<Canvas of={stories.SearchExample} />

## Password

Let's use `InputGroup` and its components to create a password input with a show/hide password functionality

<Canvas of={stories.PasswordExample} />

## Combining with FormField

When using `Input` inside an HTML form, you might want to use it in combination with `FormField` to add a proper label, error message, etc.

### Label

Use `FormField.Label` to add a label to the input.

<Canvas of={stories.FieldLabel} />

#### Hidden label

In certain cases, a visible label may not be necessary, such as when using an input as a searcher. To achieve this behavior, use the `VisuallyHidden` component.

<Canvas of={stories.FieldHiddenLabel} />

### Required

Use the `isRequired` prop of the `FormField` to indicate that the input is required.

<Canvas of={stories.FieldRequired} />

### Helper message

Use the `FormField.HelperMessage` component to provide a description to the input.

<Canvas of={stories.FieldHelperMessage} />

### Validation

Use the `isInvalid` prop of the `FormField` to indicate that the input is invalid. Optionally use the `FormField.ErrorMessage` to describe why the input is invalid.

<Canvas of={stories.FieldInvalid} />
