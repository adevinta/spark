import { Meta, Canvas } from '@storybook/addon-docs'
import { A11yReport } from '@docs/helpers/A11yReport'
import { ArgTypes } from '@docs/helpers/ArgTypes'

import { Input, InputGroup } from '.'

import * as stories from './Input.stories'

<Meta of={stories} />

# Input

Component used to get user input in a text field.

Use `InputGroup` component to group your input with addons and elements like icons.

## Install

```sh
npm install @spark-ui/input
```

## Import

```tsx
import { Input, InputGroup } from '@spark-ui/input'
```

## Props

<ArgTypes
  of={Input}
  description="Input component is a component that is used to get user input in a text field."
  subcomponents={{
    InputGroup: {
      of: InputGroup,
      description:
        'Use this wrapper whenever you need a more complex text input. For example if you need to have leading/trailing icons or addons.',
    },
    'InputGroup.LeadingAddon': {
      of: InputGroup.LeadingAddon,
      description:
        'Add any type of component that will be displayed before the input field.\n This provides flexibility to include additional elements, such as buttons or dropdowns, to enhance the user interface and provide clear context or guidance to the user.',
    },
    'InputGroup.LeadingIcon': {
      of: InputGroup.LeadingIcon,
      description: 'Prepend a decorative icon inside the input (to the left).',
    },
    'InputGroup.TrailingAddon': {
      of: InputGroup.TrailingAddon,
      description:
        'Add any type of component that will be displayed after the input field. This provides flexibility to include additional elements, such as buttons or dropdowns, to enhance the user interface and provide clear context or guidance to the user.',
    },
    'InputGroup.TrailingIcon': {
      of: InputGroup.TrailingIcon,
      description:
        'Append a decorative icon inside the input (to the right). This element will be replaced by a status indicator whenever the input is in error/alert/success state.',
    },
    'InputGroup.ClearButton': {
      of: InputGroup.ClearButton,
      description:
        'Clears the input value. Only for search inputs. This button will be shown when the user has typed something in the input.',
    },
  }}
/>

## Usage

### Default

<Canvas of={stories.Default} />

### Uncontrolled

Use `defaultValue` prop to set the default value of the input. Optionally `onChange` prop can be used to know when the value of the input changes.

<Canvas of={stories.Uncontrolled} />

### Controlled

Use `value` and `onChange` props to control the value of the input.

<Canvas of={stories.Controlled} />

### Addons

Each `InputGroup` can have a `LeadingAddon` and a `TrailingAddon`. You can use them to achieve more complex custom inputs. Addons can be decorative or interactive.

**Note: we advise to use `solid` addons when possible to give the user a better clickable area**

<Canvas of={stories.Addons} />

### Icons

An `InputGroup` can have a `LeadingIcon` and/or `TrailingIcon`. Please note that the `TrailingIcon` will be automatically replaced by the state indicator if the input has one (`error`, `alert` or `success`).

<Canvas of={stories.Icons} />

### Disabled

To indicate that an input is disabled, use the `disabled` prop. If you're wrapping your `Input` with an `InputGroup`, set the prop on the group instead.

<Canvas of={stories.Disabled} />

### Read Only

Use `readOnly` prop to indicate the input is only readable.

<Canvas of={stories.ReadOnly} />

### State

Use `state` prop to assign a specific state to the group, choosing from: `error`, `alert` and `success`. By doing so, the outline styles will be updated.

<Canvas of={stories.State} />

## Advanced usage

### Search

Let's use `InputGroup` and its components to create a search input with a clear button

<Canvas of={stories.SearchExample} />

### Password

Let's use `InputGroup` and its components to create a password input with a show/hide password functionality

<Canvas of={stories.PasswordExample} />

## Form field

When using the `Input` component you might want to use it in combination with `FormField` to add a proper label, error message, etc.

### Characters count

Use the `FormField.CharactersCount` component to display the actual text count and the max length allowed.

<Canvas of={stories.FieldCharactersCount} />

### Helper message

Use the `FormField.HelperMessage` component to provide a description to the input.

<Canvas of={stories.FieldHelperMessage} />

#### Hidden label

In certain cases, a visible label may not be necessary, such as when using an input as a searcher. To achieve this behavior, use the `VisuallyHidden` component.

<Canvas of={stories.FieldHiddenLabel} />

### Label

Use `FormField.Label` to add a label to the input.

<Canvas of={stories.FieldLabel} />

### Required

Use the `isRequired` prop of the `FormField` to indicate that the input is required.

<Canvas of={stories.FieldRequired} />

### Validation

set the `state` prop of the `FormField` to `error` to indicate that the input is invalid. Optionally use the `FormField.ErrorMessage` to describe why the input is invalid.

<Canvas of={stories.FieldInvalid} />

## Accessibility

<A11yReport of="input" />
