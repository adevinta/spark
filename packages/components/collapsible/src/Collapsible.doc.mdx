import { Meta, Canvas } from '@storybook/addon-docs'
import { ArgTypes } from '@docs/helpers/ArgTypes'
import { A11yReport } from '@docs/helpers/A11yReport'
import { Kbd } from '@spark-ui/kbd'

import { Collapsible } from '.'

import * as stories from './Collapsible.stories'

<Meta of={stories} />

# Collapsible

An interactive component which expands/collapses a panel.

This component has no styles and serves as a behaviourial component.

## Install

```sh
npm install @spark-ui/collapsible
```

## Import

```tsx
import { Collapsible } from '@spark-ui/collapsible'
```

## Props

<ArgTypes
  of={Collapsible}
  description="An interactive component which expands/collapses a panel."
  subcomponents={{
    'Collapsible.Trigger': {
      of: Collapsible.Trigger,
      description: 'The button that toggles the collapsible.',
    },
    'Collapsible.Content': {
      of: Collapsible.Content,
      description: 'The component that contains the collapsible content.',
    },
  }}
/>

## Usage

### Default

A `Collapsible` is closed by default. Interacting with its trigger will open the associated content.

<Canvas of={stories.Default} />

## Accessibility

<A11yReport of="collapsible" />

Adheres to the [Disclosure (Show/Hide) Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/disclosure/).

### Keyboard Interactions

- <Kbd>Enter</Kbd> - activates the disclosure control and toggles the visibility of the disclosure
  content.
- <Kbd>Space</Kbd> - activates the disclosure control and toggles the visibility of the disclosure
  content.

### WAI-ARIA Roles, States, and Properties

- The element that shows and hides the content has role [button](https://w3c.github.io/aria/#button).
- When the content is visible, the element with role button has [aria-expanded](https://w3c.github.io/aria/#aria-expanded) set to `true`. When the content area is hidden, it is set to `false`.
- Optionally, the element with role button has a value specified for [aria-controls](https://w3c.github.io/aria/#aria-controls) that refers to the element that contains all the content that is shown or hidden.
