import { Canvas, Meta } from '@storybook/addon-docs'
import { ReactLiveBlock } from '@docs/helpers/ReactLiveBlock'
import { ArgTypes } from '@docs/helpers/ArgTypes'
import { RadioGroup } from '.'
import * as RadioStories from './RadioGroup.stories'

<Meta of={RadioStories} />

# RadioGroup

Component used when only one choice may be selected in a series of options.

## Install

```sh
npm install @spark-ui/radio-group
```

## Import

```ts
import { RadioGroup } from '@spark-ui/radio-group'
```

## Props

<ArgTypes
  of={RadioGroup}
  description="Contains all the parts of a radio group."
  subcomponents={{
    'RadioGroup.Radio': {
      of: RadioGroup.Radio,
      description: 'An item in the group that can be checked.',
    },
  }}
/>

## Usage

Radio label can be multiline. Still you should care of not using elements (for the label) with greater line height than the radio input height, to preserve vertical alignment.

<Canvas of={RadioStories.Default} />

## Using a FormField

If you need to provide more context about the Radio group (for example, a helper message or an error message) the FormField component could be used. See [documentation](./?path=/docs/experimental-formfield--docs) for more details.

<Canvas of={RadioStories.WithFormField} />

## Disabled

<Canvas of={RadioStories.Disabled} />

## Intent

Use `intent` prop to set the color of every radio inside the group. Optionally, you can set the `intent` in each radio component.

<Canvas of={RadioStories.Intent} />

## Orientation

<Canvas of={RadioStories.Orientation} />

## Uncontrolled

Use `defaultValue` prop to make the radio group uncontrolled.

<Canvas of={RadioStories.Uncontrolled} />

## Controlled

Use `value` and `onValueChange` props to make the radio group controlled.

<Canvas of={RadioStories.Controlled} />

## Custom implementation

Below is an implementation of a custom radio group that might provide guidance if you need to implement something custom as well.

When implementing a custom radio group, it is important to be careful to properly handle **accessibility (a11y) requirements**, as a11y considerations will not be handled behind the scenes as they would be when using a regular radio group implementation

<Canvas of={RadioStories.CustomImplementation} />

## Invisible radio group

We can go even further by completely hiding the radios using our [`VisuallyHidden`](?path=/docs/components-visuallyhidden--docs#visuallyhidden) component. This way, you end up with a component that shares all the intrinsic behaviors of a radio group, but does not look like one.

When implementing a custom radio group, it is important to be careful to properly handle **accessibility (a11y) requirements**, as a11y considerations will not be handled behind the scenes as they would be when using a regular radio group implementation

<Canvas of={RadioStories.InvisibleRadioGroup} />

## Accessibility

This component should always have a label, directly declared through the `children` prop or inherited from the `FormField` wrapper. If none of those are available it is strongly recommended to define an `aria-label` attribute, to comply to accessibility requirements.

Adheres to the [Radio Group WAI-ARIA design pattern](https://www.w3.org/WAI/ARIA/apg/patterns/radiobutton) and uses [roving tabindex](https://www.w3.org/TR/wai-aria-practices-1.2/examples/radio/radio.html) to manage focus movement among radio items.

### Keyboard Interactions

- `Tab`: Moves focus to either the checked radio item or the first radio item in the group.
- `Space`: When focus is on an unchecked radio item, checks it.
- `ArrowDown`: Moves focus and checks the next radio item in the group.
- `ArrowRight`: Moves focus and checks the next radio item in the group.
- `ArrowUp`: Moves focus to the previous radio item in the group.
- `ArrowLeft`: Moves focus to the previous radio item in the group.
