import { Meta } from '@storybook/blocks'
import { Card } from '@docs/helpers/Card'
import { Callout } from '@docs/helpers/Callout'

<Meta title="Using Spark/Setup" />

# Setup

## Prerequisites

**Spark UI** being based on **Tailwind CSS** library, you will need to [have it installed](https://tailwindcss.com/docs/installation) in your system.

To take benefit of a full empowered developper experience (autocomplete, syntax highlighting, linting...), you should also take a look at [**Tailwind CSS IntelliSense**](https://tailwindcss.com/docs/editor-setup#intelli-sense-for-vs-code) extension. For now it comes actually only for VS Code but you also may be interested on equivalent solutions such as the ones provided [for JetBrains IDEs](https://www.jetbrains.com/help/webstorm/tailwind-css.html).

## Spark setup

After completing the Tailwind CSS setup, you'll simply have to install the following packages via your command line:

```bash
npm i @spark-ui/tailwind-plugins @spark-ui/theme-utils
```

Navigate to your `tailwind.config.js` file and refer to the example below for proper configuration of our **Spark plugins**:

```js
// tailwind.config.js
const sparkPlugins = require('@spark-ui/tailwind-plugins')
const themeUtils = require('@spark-ui/theme-utils')

/** @type {import('tailwindcss').Config} */
module.exports = {
  content: ['./node_modules/@spark-ui/**/*.{js,mjs}'], // ⬅️ ensure that the Spark components are scanned
  plugins: [
    ...sparkPlugins.sparkConfig({
      htmlFontSize: 16, // replace this value with your app's base font size if needed (default: 16)
      themes: {
        default: themeUtils.defaultTheme,
        dark: themeUtils.defaultThemeDark,
      },
    }),
  ],
}
```

Two important notes regarding the example above:

- we are using our default themes from our `theme-utils` package. However, you can replace it with your own themes, as long as they adhere to our `Theme` interface.
  The Theme interface is available through the [**@spark-ui/theme-utils**](?path=/docs/utils-theme--docs) package.

- the `sparkConfig` plugin accepts an object with two fields:

**`themes`:**

An object containing your themes. Each key in the object will be extracted to a `[data-theme]` attribute, and the values will be converted to CSS custom properties inside the `css` file generated by Tailwing. **Note that this object requires a key with a value of default**, which specifies the default theme for your project.

For example, if your `themes` object looks like this:

```js

sparkPlugins.sparkConfig({
  themes: {
    default: yourDefaultTheme,
    alternative: someAlternativeTheme,
  },
}),
```

Tailwind will generate the following CSS:

```css
:root {
  /* ...tokens from yourDefaultTheme */
}

[data-theme='alternative'] {
  /* ...tokens from someAlternativeTheme */
}
```

**`htmlFontSize` (optional):**

Spark uses a base font size of **16 pixels** as a standard value for calculating the sizes of all other font-related properties defined in the theme. For example, our `spacing.lg` value is defined as **1rem**, which is equal to 16 pixels (based on the default base font size of 16 pixels).

However, if your application uses a different base font size, such as **10 pixels** for example, this can cause issues with the sizing of elements in the application. To account for this, you can set the `htmlFontSize` to the appropriate value for your application's base font size. This will adjust the `rem` based values in Spark to be relative to the new base font size.

<Callout>
  See the documentation for the rest of our [**Tailwind plugins**
  ](?path=/docs/utils-tailwind-plugins-index--docs) for more information.
</Callout>

## Extending Spark config

In cases where you need to tackle uncommon situations, it's important to note that our theme configuration can be extended or overridden using the standard Tailwind approach, as illustrated in the example below:

```js
// tailwind.config.js

module.exports = {
  content: [...],
  plugins: [...],
   theme: {
    extend: {
      screens: {
        customScreen: '218px', // ⬅️ extending our Spark theme configuration
        ...
      }
    }
  },
}
```

<Callout marginBottom="large">
  If you want to know more about the custom token class names used in Spark, please check out our
  [**dedicated page**](https://sparkui.vercel.app/viewer/) where you can find a comprehensive list
  of these class names.
</Callout>

<div className="mt-md flex justify-end">
  <Card
    href="/?path=/docs/using-spark-styling-overview--docs#overview-of-spark-styling-solution"
    description="Spark styling solution overview"
  >
    Next
  </Card>
</div>
