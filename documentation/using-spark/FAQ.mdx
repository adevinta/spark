import { Meta } from '@storybook/blocks'
import { Card } from '@docs/helpers/Card'
import { Callout } from '@docs/helpers/Callout'
import { FAQ } from '@docs/helpers/FAQ'

<Meta title="Using Spark/F.A.Q" />

# FAQ

<FAQ.Root className="mt-2xl">
  <FAQ.Item>
    <FAQ.Question label="How do I change an element's opacity using the color opacity modifier?" />
    <FAQ.Answer>
      If you need to apply an opacity to an element color (whether it be a text color, a border color,
      a background color, etc.), you can use the following syntax:
      
      ```tsx
      <div class="bg-primary/dim-1">...</div>
      //              ^1.   ^2. ^3.
      // 1. First, add the classname that applies
      //    some color-related property to the element.
      //
      // 2. Then, use the "/" modifier.
      //
      // 3. Finally, apply the opacity by using a value from one of the opacity
      //    tokens from the theme
      ```

      By using this syntax, you can apply an opacity to any color-related property of an element.

      For more information, see ‚Üí https://tailwindcss.com/docs/background-color#changing-the-opacity
    </FAQ.Answer>

  </FAQ.Item>

  <FAQ.Item>
    <FAQ.Question
      label="How do I deal with font weights?"
    />
      <FAQ.Answer>
        If you have text with the CSS class `text-body-1` applied to it but also wish to give this element a bold font weight, you can add another dedicated class to accomplish this:

        ```tsx
        <div class="text-body-1 font-bold">...</div>
        ```

        In this example, The class `text-body-1` sets the appropriate font size and line height, while `font-bold` sets the appropriate font weight.

        Tailwind Spark themes expose a set of font-weight related tokens. Be sure to check those out to see what values you have at your disposal.
      </FAQ.Answer>

  </FAQ.Item>

   <FAQ.Item>
    <FAQ.Question
      label="How do I handle multiple themes?"
    />
      <FAQ.Answer>
        1/ To handle multiple themes, you first need to create multiple themes. You can use the `createTheme` helper from the [**@spark-ui/theme-utils**](?path=/docs/utils-theme--docs#createtheme) package to do this.
        
        ```tsx
        import { createTheme } from '@spark-ui/theme-utils'

        export const someTheme = createTheme({...})
        export const someOtherTheme = createTheme({...})
        ```

        2/ After creating your themes, add them to the `themes` object when calling the [**sparkConfig**](?path=/docs/utils-tailwind-plugins-spark-config--docs#tailwind-spark-config-plugin) plugin inside your `tailwind.config.js` file.

        ```js
        // tailwind.config.js

        const themeUtils = require('@spark-ui/theme-utils')
        const sparkPlugins = require('@spark-ui/tailwind-plugins')

        const { someTheme, someOtherTheme } = require('your/themes')


        module.exports = {
          content: [...],
          plugins: [
            ...sparkPlugins.sparkConfig({
              themes: {
                default: themeUtils.defaultTheme,
                someTheme, // üëà
                someOtherTheme, // üëà
              },
            }),
          ],
        }
        ```

        3/ Finally, to switch between themes, set the appropriate `data-theme` attribute to the element you want to change the theme for and set its value to the field of the theme you want to use

        ```tsx
        <div data-theme="someTheme">...</div>
        ```

        It is important to note that the value of `data-theme` should match the field of the theme you passed to the `themes` object.

        For example, in our present case, The valid values for the `data-theme` attribute are **someTheme** and **someOtherTheme**.

        <Callout marginTop="medium">
          For a more in-depth explanation, please visit our dedicated [**page**](?path=/docs/using-spark-handling-multiple-themes--docs#handling-multiple-themes)
        </Callout>


      </FAQ.Answer>

  </FAQ.Item>

  <FAQ.Item>
    <FAQ.Question
      label="Can I extend the Spark theme with additional tokens?"
    />
      <FAQ.Answer>
        If you require tokens that are not part of the Spark theme, you can use the [Tailwind API](https://tailwindcss.com/docs/theme#extending-the-default-theme) to achieve this.
        
        Since Spark uses Tailwind under the hood, you have access to all its APIs.
        
        For example, to add a new breakpoint, you can do the following:
        ```js
        // tailwind.config.js

        module.exports = {
          content: [...],
          plugins: [...],
          theme: {
            extend: {
              screens: {
                customScreen: '218px', // ‚¨ÖÔ∏è extending our Spark theme configuration
                ...
              }
            }
          },
        }
        ```
      </FAQ.Answer>

  </FAQ.Item>

  <FAQ.Item>
    <FAQ.Question
      label="How do I handle complex CSS selectors / not-so-often-used CSS properties with Tailwind"
    />
    <FAQ.Answer>
      If you need to use complex CSS selectors or certain CSS properties with Tailwind, such as pseudo-selectors (some of which are already [natively handled by Tailwind](https://tailwindcss.com/docs/hover-focus-and-other-states#first-last-odd-and-even)) or complex grids, you have three options:
      
      1/ The first option is to use the **arbitrary** API ([arbitrary properties](https://tailwindcss.com/docs/adding-custom-styles#arbitrary-properties), [arbitrary variants](https://tailwindcss.com/docs/hover-focus-and-other-states#using-arbitrary-variants)), but as useful as it is for handling a few rules, it may quickly become cumbersome.
      <br/>
      2/ The second option is to register a custom [plugin](https://tailwindcss.com/docs/plugins#adding-variants) that fulfills your needs.
      <br/>
      3/ Alternatively, you may consider using a **traditional CSS file**, as using arbitrary values all over the place can make your code difficult to read and maintain.

    </FAQ.Answer>

  </FAQ.Item>

  <FAQ.Item>
    <FAQ.Question
      label="How do I handle elements that contain many Tailwind classes"
    />
    <FAQ.Answer>
      If you have an element that contains many classes (let‚Äôs say, more than a dozen), it is recommended to **group the classes by category** instead of having a **large blob of text** with all the classes, which can make the code hard to read and maintain.
      <br/>
      To achieve this, you can use a helper library like [clsx](https://github.com/lukeed/clsx) or the [cx](https://cva.style/docs/api-reference#cx) function from [cva](https://cva.style/docs), or any other library of your preference.

      This approach will make the code more organized and easier to maintain. See the example below.
      <br/>
      **before:**
      ```tsx
      <div className="flex items-center mb-sm md:mb-lg p-sm h-sz-340 w-sz-340 cursor-pointer text-underline hover:text-underline">...</div>
      ```

      **after:**
      ```tsx
      <div className={cx(
        "flex items-center",
        "h-sz-340 w-sz-340",
        "mb-sm md:mb-lg p-sm",
        "cursor-pointer text-underline hover:text-underline"
      )}>...</div>
      ```

      As to what constitutes a **category**, it depends on the use case and your personal preferences. You could use a [concentric approach](https://rhodesmill.org/brandon/2011/concentric-css/), group by media queries, or whatever makes the most sense for you.

    </FAQ.Answer>

  </FAQ.Item>

  <FAQ.Item>
    <FAQ.Question
      label="How do I handle complex styling scenarios"
    />
    <FAQ.Answer>
      To handle complex styling scenarios, we recommend using the [CVA](https://cva.style/docs) (**Class Variance Authority**) package.

      This is what we use under the hood to style our Spark components.
      <br/>
      In a nutshell, CVA automates the process of matching classes to props, making it easier to create variants for traditional CSS.
      <br/>
      Here is an example to illustrate how it works:
      ```tsx
      import { cva, VariantProps } from 'class-variance-authority'

      const cardStyles = cva(['flex relative'], {
        variants: {
          size: {
            small: ['pt-sm'],
            medium: ['pt-md'],
            large: ['pt-lg'],
          },
          intent: {
            neutral: ['bg-neutral'],
            success: ['bg-success'],
            alert: ['bg-alert'],
          },
        },
        defaultVariants: {
          size: 'small',
          intent: 'neutral'
        },
      })

      type CardsProps = VariantProps<typeof styles>

      function Card({ size, intent, className } : CardsProps) {
        return <div className={cardStyles({ size, intent, className })}>{...}</div>
      }
      ```
    </FAQ.Answer>

  </FAQ.Item>

  <FAQ.Item>
    <FAQ.Question
      label="How can I handle animations?"
    />
    <FAQ.Answer>
      Tailwind provides a [few animations](https://tailwindcss.com/docs/animation) by default, and the Spark config plugin provides a [few more](?path=/docs/utils-tailwind-plugins-animations--docs#keyframes). 
      <br/>
      However, if none of these animations are suitable for your use case, you can either [update the Tailwind config file](https://tailwindcss.com/docs/animation#customizing-your-theme) to add more if they are meant to be **reused in multiple places**.
      <br/>
      Alternatively, if it's a **one-time thing**, you can add a dedicated CSS file next to the component that needs it and be done with it.

    </FAQ.Answer>

  </FAQ.Item>
</FAQ.Root>
